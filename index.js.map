{"version":3,"file":"index.js","sources":["../src/js/faq.js","../src/js/header.js","../src/js/reviews.js"],"sourcesContent":["import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const accordion = new Accordion('.accordion-container', {\n    duration: 300,\n    showMultiple: false,\n    elementClass: 'ac',\n    triggerClass: 'ac-trigger',\n    panelClass: 'ac-panel',\n    activeClass: 'is-active',\n    onOpen: element => {\n      const panel = element.querySelector('.ac-panel');\n      const icon = element.querySelector('.icon use');\n      if (panel) {\n        panel.style.maxHeight = panel.scrollHeight + 'px';\n        panel.style.overflow = 'visible';\n      }\n      if (icon) {\n        icon.setAttribute('xlink:href', '#icon-arrowUP');\n      }\n    },\n    onClose: element => {\n      const panel = element.querySelector('.ac-panel');\n      const icon = element.querySelector('.icon use');\n      if (panel) {\n        panel.style.maxHeight = null;\n        panel.style.overflow = 'hidden';\n      }\n      if (icon) {\n        icon.setAttribute('xlink:href', '#icon-arrowDOWN');\n      }\n    },\n  });\n\n  // Сховати псевдоелемент ::after\n  const style = document.createElement('style');\n  style.textContent = `.ac .ac-trigger::after { display: none !important; }`;\n  document.head.appendChild(style);\n});\n","const burger_button = document.querySelector(\".header_menu_img\");\nconst modal_window = document.querySelector(\".modal_window\");\nconst close = document.querySelector(\".x_icon\");\nconst menu_trigger = document.querySelector('.menu_trigger');\nconst menu = document.querySelector('.menu');\n\nburger_button.addEventListener(\"click\", () => {\n    modal_window.classList.toggle(\"active\");\n});\n\nclose.addEventListener(\"click\", () => {\n    modal_window.classList.remove(\"active\");\n});\n\nmenu_trigger.addEventListener('click', () => {\n    menu.classList.toggle('active');\n});\n\ndocument.querySelectorAll(\".modal_list_item\").forEach(item => {\n    item.addEventListener(\"click\", () => {\n        modal_window.classList.remove(\"active\");\n    });\n});\n\ndocument.querySelectorAll(\".order_btn\").forEach(element => {\n    element.addEventListener(\"click\", () => {\n        modal_window.classList.remove(\"active\");\n    });\n});\n// плавное меню\n","// import Swiper bundle with all modules installed\nimport Swiper from 'swiper/bundle';\n// import styles bundle\nimport 'swiper/css/bundle';\n\n// чекаємо завантаження сторінки, щоб уникнути помилок\ndocument.addEventListener('DOMContentLoaded', function () {\n  const reviewsList = document.getElementById('reviews-list');\n\n  // Функція для додавання відгуків як HTML елементів - приймає масив\n  function renderReviews(reviews) {\n    // чистимо відгуки\n    reviewsList.innerHTML = '';\n\n    // тут погнала ітерація по відгукам\n    reviews.forEach(review => {\n      // створюємо новий елемент списку\n      const reviewItem = document.createElement('li');\n      reviewItem.classList.add('swiper-slide', 'reviews-list-item');\n      // заповнення ревью - фотка, ім'я, текст ревью\n      reviewItem.innerHTML = `\n                <img class=\"review-image\" src=\"${review.avatar_url}\" alt=\"${review.author}\" width=\"48\" height=\"48\">\n                <h3 class=\"reviews-names\">${review.author}</h3>\n                <p class=\"reviews-text\">${review.review}</p>\n            `;\n      // створений об'єкт з ревью додаємо у ДОМ\n      reviewsList.appendChild(reviewItem);\n    });\n\n    // вирівнюємо висоту доданих елементів\n    requestAnimationFrame(equalizeReviewHeights); // Викликаємо на наступному кадрі для коректного вимірювання\n  }\n\n  // щоб всі відгуки були однакової висоти\n  // знаходиться максимальна висота відгука і всі інші будуть такої ж висоти\n  function equalizeReviewHeights() {\n    const reviewItems = document.querySelectorAll('.reviews-list-item');\n    let maxHeight = 0;\n\n    // визначаємо максимальну висоту серед усіх елементів\n    reviewItems.forEach(item => {\n      item.style.height = 'auto'; // скидаємо висоту, щоб правильно виміряти\n      maxHeight = Math.max(maxHeight, item.offsetHeight); // тут знаходимо максимальну висоту\n    });\n\n    // тут робимо максимальну висоту до всіх елементів, ту що виміряли\n    reviewItems.forEach(item => {\n      item.style.height = `${maxHeight}px`;\n    });\n  }\n\n  // функція для отримання відгуків з серверу\n  async function fetchReviews() {\n    try {\n      // Запит для отримання даних\n      const response = await fetch(\n        'https://portfolio-js.b.goit.study/api/reviews'\n      );\n      if (!response.ok) {\n        throw new Error('Failed to fetch reviews');\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data) && data.length > 0) {\n        renderReviews(data); // Рендеримо відгуки\n      } else {\n        reviewsList.innerHTML = '<li style=\"color: red;\">Not found</li>';\n      }\n    } catch (error) {\n      reviewsList.innerHTML = '<li style=\"color: red;\">Not found</li>';\n      // це вспливаючий алерт\n      alert('reviews not found');\n      console.error('Reviews error:', error);\n    }\n  }\n\n  // Ініціалізація Swiper після рендерингу відгуків + брейкпоінти\n  function initSwiperReviews() {\n    const swiperReviews = new Swiper('.swiper-reviews', {\n      speed: 400,\n      spaceBetween: 16,\n      slidesPerView: 1,\n      navigation: {\n        nextEl: '.swiper-button-next-reviews',\n        prevEl: '.swiper-button-prev-reviews',\n        disabledClass: 'swiper-button-disabled-reviews',\n      },\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          speed: 400,\n          spaceBetween: 16,\n        },\n        1440: {\n          slidesPerView: 4,\n          speed: 400,\n          spaceBetween: 16,\n        },\n      },\n    });\n\n    // обробка дизейблингу кнопок\n    swiperReviews.on('slideChange', function () {\n      const prevButtonReviews = swiperReviews.navigation.prevEl;\n      const nextButtonReviews = swiperReviews.navigation.nextEl;\n\n      // саме тут дізейблимо кнопки\n      prevButtonReviews.disabled = swiperReviews.isBeginning;\n      nextButtonReviews.disabled = swiperReviews.isEnd;\n    });\n  }\n\n  // ну і завантажуємо отримані відгуки\n  fetchReviews().then(() => {\n    initSwiperReviews();\n  });\n});\n"],"names":["Accordion","element","panel","icon","style","burger_button","modal_window","close","menu_trigger","menu","item","reviewsList","renderReviews","reviews","review","reviewItem","equalizeReviewHeights","reviewItems","maxHeight","fetchReviews","response","data","error","initSwiperReviews","swiperReviews","Swiper","prevButtonReviews","nextButtonReviews"],"mappings":"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"}